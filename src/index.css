/* stylelint-disable */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Add dark background to html and body elements and prevent overscroll bounce effect */
html, body {
  background-color: var(--color-background); /* Use CSS variable instead of hardcoded color */
  overscroll-behavior: none; /* Prevents the bounce/overscroll effect */
}

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* Fix for toast notifications and modals */
.toast-container {
  position: fixed !important;
  z-index: 99999 !important;
  right: 20px !important;
  bottom: 20px !important;
  max-width: 90vw !important;
}

@media (min-width: 640px) {
  .toast-container {
    max-width: 400px !important;
  }
}

/* Fix for filter sections in merchant dashboard tabs */
.flex-col.gap-3.mb-6 {
  padding-top: 0.5rem;
}

/* Proper z-index hierarchy for modals in purchase flow */
.Toastify__toast-container {
  position: fixed !important;
  z-index: 99999 !important;
}

/* Storefront modals - we need to keep these as they are */
body:not([data-merchant-dashboard="true"]) [aria-modal="true"][role="dialog"][aria-labelledby="modal-title"] > .fixed.inset-0.bg-black\/80 {
  z-index: 40 !important;
}

body:not([data-merchant-dashboard="true"]) [aria-modal="true"][role="dialog"][aria-labelledby="modal-title"] {
  z-index: 45 !important;
}

body:not([data-merchant-dashboard="true"]) [aria-modal="true"][role="dialog"][aria-labelledby="modal-title"] .z-\[46\] {
  z-index: 46 !important;
}

/* Navigation bar z-index (stays above product modal in storefront) */
nav.fixed.w-full {
  z-index: 50 !important;
}

/* Cart drawer backdrop (above nav) */
.cart-backdrop {
  z-index: 55 !important;
}

/* Cart drawer content (above its backdrop) */
.cart-content {
  z-index: 60 !important;
}

/* Token verification modal z-index (above cart) */
[aria-modal="true"][role="dialog"]:not([aria-labelledby="modal-title"]) {
  z-index: 70 !important;
}

/* Stripe payment modal z-index (third in flow) */
.StripePaymentElement, 
.StripeElement,
.stripe-modal {
  z-index: 80 !important;
}

/* Success view z-index (final in flow) */
div[class*="fixed inset-0 flex items-center justify-center z-50"] {
  z-index: 90 !important;
}

/* How it works modal z-index (appears above all other modals) */
div[aria-modal="true"][role="dialog"][aria-labelledby="modal-title"]:has(h2#modal-title.text-lg.sm\:text-xl.font-bold) {
  z-index: 100 !important;
}

@keyframes progress {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(200%);
  }
}